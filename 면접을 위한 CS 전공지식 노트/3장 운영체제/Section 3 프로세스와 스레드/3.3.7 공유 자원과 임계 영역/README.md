# 공유 자원과 임계 영역
###### 공유 자원
공유 자원은 시스템 안에서 각 프로세스, 스레드가 함께 접근할 수 있는 모니터, 프린터, 메모리, 파일, 데이터 등의 자원이나 변수 등을 의미한다.<br/>
이 공유 자원을 두 개 이상의 프로세스가 동시에 읽거나 쓰는 상황을 경쟁 상태라고 한다.<br/>
동시에 접근을 시도할 때 접근의 타이밍이나 순서 등이 결괏값에 영향을 줄 수 있는 상태이다.<br/>

###### 임계 영역
공유 자원에 접근할 때 순서 둥의 이유로 결과가 달라지는 영역을 임계 영역이라고 한다. 임계 영역을 해결하기 위한 방법은 크게<br/>
뮤텍스, 세마포어,ㅡ 모니터 세 가지가 있으며, 이 방법 모두 상호 배제, 한정 대기, 융통성이란 조건을 만족한다.<br/>
이 방법에 토대가 되는 메커니즘은 잠금이다. 예를 들어 임계 구역을 화장실이라고 가정하면 화장실에 A라는 사람이 들어간 다음 문을 잠근다.<br/>
그리고 다음 사람이 이를 기다리다 A가 나오면 화장실을 사용하는 것이다.<br/>
- 뮤텍스: 공유 자원을 사용하기 전에 설정하고 사용한 후에 해제하는 잠금이다. 잠금이 설정되면 다른 스레드는 잠긴 코드 영역에<br/>
접근할 수 없다. 또한 하나의 상태(잠금, 잠금 해제)만 가진다.

- 세마포어: 일반화된 뮤텍스다. 간단한 정수 값과 두 가지 함수 wait 및 signal로 공유 자원에 대한 접근을 처리한다.<br/>
wait()는 자신의 차례가 올 때 까지 기다리는 함수이며, signal()은 다음 프로세스로 순서를 넘겨주는 함수이다.<br/>
프로세스가 공유 자원에 접근하면 세마포어에서 wait() 작업을 수행하고 프로세스가 공유 자원을 해제하면 세마포어에서 signal() 작업을 수행한다.<br/>
세마포어에는 조건 변수가 없고 프로세스가 세마포어 값을 수정할 때 다른 프로세스는 동시에 세마포어 값을 수정할 수 없다.

- 바이너리 세마포어: 0과 1의 두 가지 값만 가질 수 있는 세마포어이다. 구현의 유사성으로 인해 뮤텍스는 바이너리 세마포어라고 할 수 있다.<br/>
하지만 엄밀히 말하면 뮤텍스는 리소스에 대한 접근을 동기화하는 데 사용되는 잠금 메커니즘이고, 세마포어는 신호를 기반으로 상호 배제가 일어나는<br/>
신호 메커니즘이다.

- 카운팅 세마포어: 여러 개의 값을 가질 수 있는 세마포어이며, 여러 자원에 대한 접근을 제어하는 데 사용된다.

###### 모니터
모니터 큐라는 선입선출의 구조에 작업이 추가되면서 순차적으로 공유 자원에 접근하는 방식이다.<br/>
모니터는 세마포어보다 구현하기 쉬우며 모니터에서 상호 배제는 자동인 반면에, 세마포어에서는 상호 배제를 명시적으로 구현해야 하는 차이점이 있다.<br/>
