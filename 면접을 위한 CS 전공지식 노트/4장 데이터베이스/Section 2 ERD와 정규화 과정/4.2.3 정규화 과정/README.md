# 정규화 과정
정규화 과정은 릴레이션 간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나서 이를 해결하거나, 저장 공간을 효율적으로 사용하기 위해 릴레이션을 여러 개로 분리하는 과정이다.<br/>
데이터베이스 이상 현상이란 회원이 한 개의 등급을 가져야 하는데 세 개의 등급을 갖거나 삭제할 때 필요한 데이터가 같이 삭제되고, 데이터를 삽입해야 하는데 하나의 필드 값이 NULL이 되면 안 되어서 삽입하기 어려운 현상을 말한다.<br/>
정규화 과정은 정규형 원칙을 기반으로 정규형을 만들어가는 과정이며, 정규화된 정도는 정규형으로 표현한다.<br/>
기본 정규형인 제1정규형, 제2정규형, 제3정규형, 보이스/코드 정규형이 있고 고급 정규형인 제4정규형, 제5정규형이 있다. 이 중 기본 정규형인 제1~3정규형, 보이스/코드 정규형을 알아보자.<br/>
###### 정규형 원칙
정규형의 원칙이란 같은 의미를 표현하는 릴레이션이지만 좀 더 좋은 구조로 만들어야 하고, 자료의 중복성은 감소해야 하고, 독립적인 관계는 별개의 릴레이션으로 표현해야 하며, 각각의 릴레이션은 독립적인 표현이 가능해야 하는 것을 말한다.<br/>
###### 제1정규형
<img width="325" alt="스크린샷 2022-11-26 오후 12 09 59" src="https://user-images.githubusercontent.com/48938462/204073385-b9082297-357c-41ea-aa34-9819dbc3450c.png">
릴레이션의 모든 도메인이 더 이상 분해될 수 없는 원자 값만으로 구성되어야 한다. 릴레이션의 속성 값 중에서 한 개의 기본키에 대해 두 개 이상의 값을 가지는 반복 집합이 있어서는 안된다. 만약에 반복 집합이 있다면 제거해야 한다.<br/>

###### 제2정규형
릴레이션이 제 1정규형이며 부분 함수의 종속성을 제거한 형태를 말한다.<br/>
부분 함수의 종속성 제거란 기본키가 아닌 모든 속성이 결정자가 되는 것을 제거하는 것이다.<br/>
<img width="417" alt="스크린샷 2022-11-26 오후 1 00 23" src="https://user-images.githubusercontent.com/48938462/204073460-c6c7d28a-f737-4cfd-be59-b6d45df88ab7.png">

이 테이블에서 기본키는 학생번호와 과목명의 복합키이다. 그리고 이 기본키는 성적을 결정하고있다.<br/>
하지만 기본키의 부분집합인 과목명으로 강의실을 결정할 수 있기 때문에 이 둘을 분해하여 별도의 테이블로 관리하여 제2정규형을 만족시킬 수 있다.<br/>
<img width="526" alt="스크린샷 2022-11-26 오후 1 10 00" src="https://user-images.githubusercontent.com/48938462/204073471-dcbac3ca-b081-4f2b-bfe5-46cb7146ad34.png">

###### 제3정규형
제2정규화를 진행한 테이블에 대해 이행적 종속을 없애도록 테이블을 분해하는 것이다. 이행적 종속이라는 것은 A -> B, B -> C가 성립할 때 A -> C가 성립되는 것을 의미한다.<br/>
<img width="298" alt="스크린샷 2022-11-26 오후 1 39 08" src="https://user-images.githubusercontent.com/48938462/204073583-879f40e6-d3a7-4f83-895d-3e97ca0ce497.png">
<img width="445" alt="스크린샷 2022-11-26 오후 1 39 32" src="https://user-images.githubusercontent.com/48938462/204073596-50b4bb3f-e826-4742-bfeb-fb4c01a1c45d.png">

위의 테이블에서 학생번호는 과목명을 결정하고, 과목명은 수강료를 결정한다. 그렇기 때문에 이를 (학생번호, 과목명) 테이블과 (과목명, 수강료) 테이블로 분리해야 한다. 

추후에 한 학생이 수강하고자하는 과목을 변경했을 때 수강료까지 수정되어야하는 상황을 방지하기 위해서이다.<br/>
###### 보이스/코드 정규형
제3정규화를 진행한 테이블에 대해 모든 결정자가 후보키가 되도록 테이블을 분해하는 것이다.<br/>
<img width="308" alt="스크린샷 2022-11-26 오후 2 10 20" src="https://user-images.githubusercontent.com/48938462/204073665-3d134eb4-d593-4e4b-9c01-8234acdf9419.png">

위의 테이블에서 기본키는 학생번호와 과목명이다. 그리고 기본키는 교수를 결정한다. 또한 여기서 교수는 과목명을 결정하고 있다.<br/>
문제는 교수가 특강이름을 결정하는 결정자이지만, 후보키가 아니라는 점이다. 그렇기 때문에 보이스/코드 정규형을 만족시키기 위해 과목명 테이블과 교수 테이블로 분해할 수 있다.<br/>
<img width="441" alt="스크린샷 2022-11-26 오후 2 10 26" src="https://user-images.githubusercontent.com/48938462/204073672-4fa6b59e-690f-44e0-a845-5b17ccb5ee81.png">
