# 트랜잭션
트랜잭션은 데이터베이스에서 하나의 논리적 기능을 수행하기 위한 작업의 단위를 말하며 데이터베이스에 접근하는 방법은 쿼리이므로, 즉 여러 개의 쿼리들을 하나로 묶는 단위를 말한다. 이에 대한 특징은 원자성, 일관성, 독립성, 지속성이 있으며 이를 한꺼번에 ACID 특성이라고 한다.<br/>

###### 원자성
원자성은 트랜잭션과 관련된 일이 모두 수행되었거나 되지 않았거나를 보장하는 특징이다. 예를 들어 트랜잭션을 커밋했는데, 문제가 발생하여 롤백하는 경우 그 이후에 모두 수행되지 않음을 보장하는 것을 말한다.<br/>
예를 들어 1000만 원을 가진 A가 0원을 가진 B에게 500만 원을 이체한다고 가정하자. 그렇다면 결과는 A는 500만원, B는 500만 원을 가지게 된다. 해당 결과는 다음과 같은 연산 단위로 이루어진 과정을 거친다.<br/>
1. A의 잔고를 조회한다.
2. A에게서 500만 원을 뺀다.
3. B에게 500만 원을 넣는다.

여기서 1~3의 연산 중 데이터베이스 사용자는 이 세 가지의 과정을 볼 수도 참여할 수도 없다.<br/>
여기서 이 작업을 '취소'한다고 했을 때 A는 다시 1000만 원, B는 0원을 가져야 한다. 일부 연산만 적용된 A는 500만 원, B는 0원이 되지 않는 것을 의미한다.<br/>
또한, 트랜잭션 단위로 여러 로직들을 묶을 때 외부 API를 호출하는 것이 있으면 안 된다. 만약 있다면 롤백이 일어났을 때 어떻게 해야 할 것인지에 대한 해결 방법이 있어야 하고 트랜잭션 전파를 신경 써서 관리해야 한다.
